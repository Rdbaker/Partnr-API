<toasts></toasts>
<div class="partnr-page-header">
	<h1>Welcome, {{ user.first_name }}</h1>
	<div>
		<h3>Find something new</h3>
		<div class="input-group">
			<input type="text" class="form-control" ng-model="search.keywords">
			<span class="input-group-btn">
				<button type="button" class="btn btn-primary" ng-click="doSearch()"><i class="fa fa-search"></i></button>
			</span>
		</div>
	</div>
</div>
<div class="content-container">
	<div class="btn-group" dropdown>
		<button id="split-button" type="button" class="btn btn-default" ng-click="$state.go('user_project_list')">My Projects</button>
		<button type="button" class="btn btn-default" dropdown-toggle>
			<span class="caret"></span>
			<span class="sr-only">Options</span>
		</button>
		<ul class="dropdown-menu" role="menu" aria-labelledby="split-button">
			<li role="menuitem"><a ui-sref="project_create">Create</a></li>
		</ul>
	</div>
	<button class="btn btn-default" ng-click="$state.go('profile_edit')">Edit Profile</button>
	<button class="btn btn-default" ng-click="$state.go('profile', { id : user.id })">View Profile</button>
	<button class="btn btn-primary" ng-click="doLogout()">Log out</button>
</div>
<div class="content-container" ng-show="search.queried">
	<div class="results">
		<div ng-show="search.result.projects.length > 0">
			<h4>Projects</h4>
			<span ng-repeat="p in search.result.projects">
				<a ui-sref="project({ id: p.id })">{{ p.title }}</a>
			</span>
		</div>
		<div ng-show="search.result.roles.length > 0">
			<h4>Roles</h4>
			<span ng-repeat="r in search.result.roles">
				<a ui-sref="project({ id: r.project.id })">{{ r.title }}</a>
			</span>
		</div>
		<div ng-show="search.result.roles.length === 0 && search.result.projects.length === 0">
			No Results
		</div>
	</div>
</div>
<div masonry ng-show="loadComplete">
	<div ng-repeat="p in projects" class="masonry-brick col-md-4">
		<div class="content-container no-padding project-tile">
			<div class="ptile-img-placeholder">
				<div class="ptile-partnrs-wrapper">
					<div class="ptile-partnrs">
						<span class="ptile-img-partnr">&nbsp;</span>
						<span class="ptile-img-partnr">&nbsp;</span>
						<span class="ptile-img-partnr">&nbsp;</span>
						<span class="ptile-img-partnr">&nbsp;</span>
					</div>
				</div>
			</div>
			<div class="ptile-info">
				<h3>{{ p.title }}</h3>
				<h5>{{ getProjectStatus(p.status) }}</h5>
				<p>{{ p.description }}</p>
				<div class="clearfix">
					<div class="col-xs-4">
						<a ui-sref="#" class="ptile-detail-nugget"><i class="fa fa-comment"></i><span>0</span></a>
					</div>
					<div class="col-xs-8 buttons-right">
						<button class="btn btn-primary" ng-click="$state.go('project', { id: p.id })">check it out</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="loading-wrapper" ng-hide="loadComplete">
	<div class="text-center loading-container">
		<img src="/assets/ajax-loader.gif">
	</div>
</div>
